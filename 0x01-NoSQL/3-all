// 3-all.js

// Import the MongoDB client
var MongoClient = require('mongodb').MongoClient;

// Connection URL
var url = 'mongodb://127.0.0.1:27017/';

// Get the database name from command line arguments
var dbName = process.argv[2];

// Connect to the server
MongoClient.connect(url + dbName, function(err, client) {
  if (err) throw err;

  // Get the reference to the database
  var db = client.db(dbName);

  // Get the reference to the "school" collection
  var collection = db.collection('school');

  // Find all documents in the collection
  collection.find().toArray(function(err, docs) {
    if (err) throw err;

    // Print each document
    docs.forEach(function(doc) {
      printjson(doc);
    });

    // Close the connection
    client.close();
  });
});
